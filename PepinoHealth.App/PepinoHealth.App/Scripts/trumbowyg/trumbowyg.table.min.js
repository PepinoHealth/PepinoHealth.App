(function(n){"use strict";var t={rows:2,columns:2,styler:"table"};n.extend(!0,n.trumbowyg,{langs:{en:{table:"Insert table",tableAddRow:"Add row",tableAddColumn:"Add column",tableDeleteRow:"Delete row",tableDeleteColumn:"Delete column",tableDestroy:"Delete table",error:"Error"},de:{table:"Tabelle einfügen",tableAddRow:"Zeile hinzufügen",tableAddColumn:"Spalte hinzufügen",tableDeleteRow:"Zeile löschen",tableDeleteColumn:"Spalte löschen",tableDestroy:"Tabelle löschen",error:"Error"},sk:{table:"Vytvoriť tabuľky",tableAddRow:"Pridať riadok",tableAddColumn:"Pridať stĺpec",error:"Chyba"},fr:{table:"Insérer un tableau",tableAddRow:"Ajouter des lignes",tableAddColumn:"Ajouter des colonnes",error:"Erreur"},cs:{table:"Vytvořit příkaz Table",tableAddRow:"Přidat řádek",tableAddColumn:"Přidat sloupec",error:"Chyba"},ru:{table:"Вставить таблицу",tableAddRow:"Добавить строки",tableAddColumn:"Добавить столбцы",error:"Ошибка"},ja:{table:"表の挿入",tableAddRow:"行の追加",tableAddColumn:"列の追加",error:"エラー"},tr:{table:"Tablo ekle",tableAddRow:"Satır ekle",tableAddColumn:"Kolon ekle",error:"Hata"}},plugins:{table:{init:function(i){i.o.plugins.table=n.extend(!0,{},t,i.o.plugins.table||{});var r={fn:function(){var t,o,s,l,h;i.saveRange();var r="table",e=i.o.prefix+"dropdown",c={"class":e+"-"+r+" "+e+" "+i.o.prefix+"fixed-top"};if(c["data-"+e]=r,t=n("<div/>",c),n("."+e+"-"+r).length==0?i.$box.append(t.hide()):t=i.$box.find("."+e+"-"+r),t.html(""),i.$box.find("."+i.o.prefix+"table-button").hasClass(i.o.prefix+"active-button"))t.append(i.buildSubBtn("tableAddRow")),t.append(i.buildSubBtn("tableAddColumn")),t.append(i.buildSubBtn("tableDeleteRow")),t.append(i.buildSubBtn("tableDeleteColumn")),t.append(i.buildSubBtn("tableDestroy"));else{for(o=n('<table id="tbl-desc"><\/table>'),s=0;s<i.o.plugins.table.rows;s+=1)for(l=n("<tr><\/tr>").appendTo(o),h=0;h<i.o.plugins.table.columns;h+=1)n("<td><\/td>").appendTo(l);o.find("td").on("mouseover",u);o.find("td").on("mousedown",f);t.append(o);t.append(n("<center>1x1<\/center>"))}i.dropdown(r)}},u=function(t){var o=n(t.target),u=o.parents("table"),f=this.cellIndex,e=this.parentNode.rowIndex,i,r;for(u.find("td").removeClass("active"),i=0;i<=e;i+=1)for(r=0;r<=f;r+=1)u.find("tr:nth-of-type("+(i+1)+")").find("td:nth-of-type("+(r+1)+")").addClass("active");u.next("center").html(e+1+"x"+(f+1))},f=function(t){var r,u,e,f;i.saveRange();r=n("<table><\/table>");i.o.plugins.table.styler&&r.attr("class",i.o.plugins.table.styler);var h=n(t.target),o=this.cellIndex,s=this.parentNode.rowIndex;for(u=0;u<=s;u+=1)for(e=n("<tr><\/tr>").appendTo(r),f=0;f<=o;f+=1)n("<td><\/td>").appendTo(e);i.range.deleteContents();i.range.insertNode(r[0]);i.$c.trigger("tbwchange")},e={title:i.lang.tableAddRow,text:i.lang.tableAddRow,ico:"row-below",fn:function(){var f,t,r,u;if(i.saveRange(),f=i.doc.getSelection().focusNode,t=n(f).closest("table"),t.length>0){for(r=n("<tr><\/tr>"),u=0;u<t.find("tr")[0].childElementCount;u+=1)n("<td><\/td>").appendTo(r);r.appendTo(t)}return!0}},o={title:i.lang.tableAddColumn,text:i.lang.tableAddColumn,ico:"col-right",fn:function(){i.saveRange();var r=i.doc.getSelection().focusNode,t=n(r).closest("table");return t.length>0&&n(t).find("tr").each(function(){n(this).find("td:last").after("<td><\/td>")}),!0}},s={title:i.lang.tableDestroy,text:i.lang.tableDestroy,ico:"table-delete",fn:function(){i.saveRange();var t=i.doc.getSelection().focusNode,r=n(t).closest("table");return r.remove(),!0}},h={title:i.lang.tableDeleteRow,text:i.lang.tableDeleteRow,ico:"row-delete",fn:function(){i.saveRange();var t=i.doc.getSelection().focusNode,r=n(t).closest("tr");return r.remove(),!0}},c={title:i.lang.tableDeleteColumn,text:i.lang.tableDeleteColumn,ico:"col-delete",fn:function(){i.saveRange();var t=i.doc.getSelection().focusNode,r=n(t).closest("table"),u=n(t).closest("td"),f=u.index();return n(r).find("tr").each(function(){n(this).find("td:eq("+f+")").remove()}),!0}};i.addBtnDef("table",r);i.addBtnDef("tableAddRow",e);i.addBtnDef("tableAddColumn",o);i.addBtnDef("tableDeleteRow",h);i.addBtnDef("tableDeleteColumn",c);i.addBtnDef("tableDestroy",s)}}}})})(jQuery);