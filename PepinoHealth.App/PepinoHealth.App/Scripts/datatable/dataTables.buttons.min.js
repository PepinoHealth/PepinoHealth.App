/*! Buttons for DataTables 2.2.3
 * Â©2016-2022 SpryMedia Ltd - datatables.net/license
 */
(function(n){typeof define=="function"&&define.amd?define(["jquery","datatables.net"],function(t){return n(t,window,document)}):typeof exports=="object"?module.exports=function(t,i){return t||(t=window),i&&i.fn.dataTable||(i=require("datatables.net")(t,i).$),n(i,t,t.document)}:n(jQuery,window,document)})(function(n,t,i,r){"use strict";function s(t,i,r){n.fn.animate?t.stop().fadeIn(i,r):(t.css("display","block"),r&&r.call(t))}function h(t,i,r){n.fn.animate?t.stop().fadeOut(i,r):(t.css("display","none"),r&&r.call(t))}function v(n,t){var i=new u.Api(n),r=t?t:i.init().buttons||u.defaults.buttons;return new f(i,r).container()}var u=n.fn.dataTable,y=0,p=0,e=u.ext.buttons,f=function(t,i){if(!(this instanceof f))return function(n){return new f(n,t).container()};typeof i=="undefined"&&(i={});i===!0&&(i={});Array.isArray(i)&&(i={buttons:i});this.c=n.extend(!0,{},f.defaults,i);i.buttons&&(this.c.buttons=i.buttons);this.s={dt:new u.Api(t),buttons:[],listenKeys:"",namespace:"dtb"+y++};this.dom={container:n("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)};this._constructor()},o;n.extend(f.prototype,{action:function(n,t){var i=this._nodeToButton(n);return t===r?i.conf.action:(i.conf.action=t,this)},active:function(t,i){var e=this._nodeToButton(t),u=this.c.dom.button.active,f=n(e.node);return i===r?f.hasClass(u):(f.toggleClass(u,i===r?!0:i),this)},add:function(n,t,i){var o=this.s.buttons,u,f,e,s;if(typeof t=="string"){for(u=t.split("-"),f=this.s,e=0,s=u.length-1;e<s;e++)f=f.buttons[u[e]*1];o=f.buttons;t=u[u.length-1]*1}return this._expandButton(o,n,n!==r?n.split:r,(n===r||n.split===r||n.split.length===0)&&f!==r,!1,t),(i===r||i===!0)&&this._draw(),this},collectionRebuild:function(n,t){var f=this._nodeToButton(n),i,u;if(t!==r){for(i=f.buttons.length-1;i>=0;i--)this.remove(f.buttons[i].node);for(i=0;i<t.length;i++)u=t[i],this._expandButton(f.buttons,u,u!==r&&u.config!==r&&u.config.split!==r,!0,u.parentConf!==r&&u.parentConf.split!==r,i,u.parentConf)}this._draw(f.collection,f.buttons)},container:function(){return this.dom.container},disable:function(t){var i=this._nodeToButton(t);return n(i.node).addClass(this.c.dom.button.disabled).attr("disabled",!0),this},destroy:function(){var u,t,i,r;for(n("body").off("keyup."+this.s.namespace),u=this.s.buttons.slice(),t=0,i=u.length;t<i;t++)this.remove(u[t].node);for(this.dom.container.remove(),r=this.s.dt.settings()[0],t=0,i=r.length;t<i;t++)if(r.inst===this){r.splice(t,1);break}return this},enable:function(t,i){if(i===!1)return this.disable(t);var r=this._nodeToButton(t);return n(r.node).removeClass(this.c.dom.button.disabled).removeAttr("disabled"),this},index:function(n,t,i){var r,e,u,f;for(t||(t="",i=this.s.buttons),r=0,e=i.length;r<e;r++){if(u=i[r].buttons,i[r].node===n)return t+r;if(u&&u.length&&(f=this.index(n,r+"-",u),f!==null))return f}return null},name:function(){return this.c.name},node:function(t){if(!t)return this.dom.container;var i=this._nodeToButton(t);return n(i.node)},processing:function(t,i){var u=this.s.dt,f=this._nodeToButton(t);return i===r?n(f.node).hasClass("processing"):(n(f.node).toggleClass("processing",i),n(u.table().node()).triggerHandler("buttons-processing.dt",[i,u.button(t),u,n(t),f.conf]),this)},remove:function(t){var i=this._nodeToButton(t),u=this._nodeToHost(t),f=this.s.dt,r,e;if(i.buttons.length)for(r=i.buttons.length-1;r>=0;r--)this.remove(i.buttons[r].node);return i.conf.destroying=!0,i.conf.destroy&&i.conf.destroy.call(f.button(t),f,n(t),i.conf),this._removeKey(i.conf),n(i.node).remove(),e=n.inArray(i,u),u.splice(e,1),this},text:function(t,i){var u=this._nodeToButton(t),f=this.c.dom.collection.buttonLiner,s=u.inCollection&&f&&f.tag?f.tag:this.c.dom.buttonLiner.tag,h=this.s.dt,e=n(u.node),o=function(n){return typeof n=="function"?n(h,e,u.conf):n};return i===r?o(u.conf.text):(u.conf.text=i,s?e.children(s).eq(0).filter(":not(.dt-down-arrow)").html(o(i)):e.html(o(i)),this)},_constructor:function(){var u=this,f=this.s.dt,t=f.settings()[0],e=this.c.buttons,r,o;for(t._buttons||(t._buttons=[]),t._buttons.push({inst:this,name:this.c.name}),r=0,o=e.length;r<o;r++)this.add(e[r]);f.on("destroy",function(n,i){i===t&&u.destroy()});n("body").on("keyup."+this.s.namespace,function(n){if(!i.activeElement||i.activeElement===i.body){var t=String.fromCharCode(n.keyCode).toLowerCase();u.s.listenKeys.toLowerCase().indexOf(t)!==-1&&u._keypress(t,n)}})},_addKey:function(t){t.key&&(this.s.listenKeys+=n.isPlainObject(t.key)?t.key.key:t.key)},_draw:function(n,t){n||(n=this.dom.container,t=this.s.buttons);n.children().detach();for(var i=0,r=t.length;i<r;i++)n.append(t[i].inserter),n.append(" "),t[i].buttons&&t[i].buttons.length&&this._draw(t[i].collection,t[i].buttons)},_expandButton:function(t,i,u,f,e,o,s){var p=this.s.dt,b=0,a=!1,y=Array.isArray(i)?i:[i],v,w,c,h,l;for(i===r&&(y=Array.isArray(u)?u:[u]),i!==r&&i.split!==r&&(a=!0),v=0,w=y.length;v<w;v++)if(c=this._resolveExtends(y[v]),c){if(a=c.config!==r&&c.config.split?!0:!1,Array.isArray(c)){this._expandButton(t,c,h!==r&&h.conf!==r?h.conf.split:r,f,s!==r&&s.split!==r,o,s);continue}if(h=this._buildButton(c,f,c.split!==r||c.config!==r&&c.config.split!==r,e),h){if(o!==r&&o!==null?(t.splice(o,0,h),o++):t.push(h),h.conf.buttons||h.conf.split){if(h.collection=n("<"+(a?this.c.dom.splitCollection.tag:this.c.dom.collection.tag)+"/>"),h.conf._collection=h.collection,h.conf.split)for(l=0;l<h.conf.split.length;l++)typeof h.conf.split[l]=="object"&&(h.conf.split[l].parent=s,h.conf.split[l].collectionLayout===r&&(h.conf.split[l].collectionLayout=h.conf.collectionLayout),h.conf.split[l].dropup===r&&(h.conf.split[l].dropup=h.conf.dropup),h.conf.split[l].fade===r&&(h.conf.split[l].fade=h.conf.fade));else n(h.node).append(n('<span class="dt-down-arrow">'+this.c.dom.splitDropdown.text+"<\/span>"));this._expandButton(h.buttons,h.conf.buttons,h.conf.split,!a,a,o,h.conf)}h.conf.parent=s;c.init&&c.init.call(p.button(h.node),p,n(h.node),c);b++}}},_buildButton:function(t,i,u,f){var s=this.c.dom.button,c=this.c.dom.buttonLiner,w=this.c.dom.collection,et=this.c.dom.split,d=this.c.dom.splitCollection,ft=this.c.dom.splitDropdownButton,l=this.s.dt,b=function(n){return typeof n=="function"?n(l,o,t):n},g,o,tt,a,k,v,y,it,h;if(t.spacer)return g=n("<span><\/span>").addClass("dt-button-spacer "+t.style+" "+s.spacerClass).html(b(t.text)),{conf:t,node:g,inserter:g,buttons:[],inCollection:i,isSplit:u,inSplit:f,collection:null};if(!u&&f&&d?s=ft:!u&&i&&w.button&&(s=w.button),!u&&f&&d.buttonLiner?c=d.buttonLiner:!u&&i&&w.buttonLiner&&(c=w.buttonLiner),t.available&&!t.available(l,t)&&!t.hasOwnProperty("html"))return!1;if(t.hasOwnProperty("html"))o=n(t.html);else{var rt=function(t,i,r,u){u.action.call(i.button(r),t,i,r,u);n(i.table().node()).triggerHandler("buttons-action.dt",[i.button(r),i,r,u])},nt=t.tag||s.tag,ut=t.clickBlurs===r?!0:t.clickBlurs;o=n("<"+nt+"/>").addClass(s.className).addClass(f?this.c.dom.splitDropdownButton.className:"").attr("tabindex",this.s.dt.settings()[0].iTabIndex).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",function(n){n.preventDefault();!o.hasClass(s.disabled)&&t.action&&rt(n,l,o,t);ut&&o.trigger("blur")}).on("keypress.dtb",function(n){n.keyCode===13&&(n.preventDefault(),!o.hasClass(s.disabled)&&t.action&&rt(n,l,o,t))});nt.toLowerCase()==="a"&&o.attr("href","#");nt.toLowerCase()==="button"&&o.attr("type","button");c.tag?(tt=n("<"+c.tag+"/>").html(b(t.text)).addClass(c.className),c.tag.toLowerCase()==="a"&&tt.attr("href","#"),o.append(tt)):o.html(b(t.text));t.enabled===!1&&o.addClass(s.disabled);t.className&&o.addClass(t.className);t.titleAttr&&o.attr("title",b(t.titleAttr));t.attr&&o.attr(t.attr);t.namespace||(t.namespace=".dt-button-"+p++);t.config!==r&&t.config.split&&(t.split=t.config.split)}return a=this.c.dom.buttonContainer,k=a&&a.tag?n("<"+a.tag+"/>").addClass(a.className).append(o):o,this._addKey(t),this.c.buttonCreated&&(k=this.c.buttonCreated(t,k)),u&&(v=n("<div/>").addClass(this.c.dom.splitWrapper.className),v.append(o),y=n.extend(t,{text:this.c.dom.splitDropdown.text,className:this.c.dom.splitDropdown.className,closeButton:!1,attr:{"aria-haspopup":"dialog","aria-expanded":!1},align:this.c.dom.splitDropdown.align,splitAlignClass:this.c.dom.splitDropdown.splitAlignClass}),this._addKey(y),it=function(t,i,r,u){e.split.action.call(i.button(n("div.dt-btn-split-wrapper")[0]),t,i,r,u);n(i.table().node()).triggerHandler("buttons-action.dt",[i.button(r),i,r,u]);r.attr("aria-expanded",!0)},h=n('<button class="'+this.c.dom.splitDropdown.className+' dt-button"><span class="dt-btn-split-drop-arrow">'+this.c.dom.splitDropdown.text+"<\/span><\/button>").on("click.dtb",function(n){n.preventDefault();n.stopPropagation();h.hasClass(s.disabled)||it(n,l,h,y);ut&&h.trigger("blur")}).on("keypress.dtb",function(n){n.keyCode===13&&(n.preventDefault(),h.hasClass(s.disabled)||it(n,l,h,y))}),t.split.length===0&&h.addClass("dtb-hide-drop"),v.append(h).attr(y.attr)),{conf:t,node:u?v.get(0):o.get(0),inserter:u?v:k,buttons:[],inCollection:i,isSplit:u,inSplit:f,collection:null}},_nodeToButton:function(n,t){var i,u,r;for(t||(t=this.s.buttons),i=0,u=t.length;i<u;i++){if(t[i].node===n)return t[i];if(t[i].buttons.length&&(r=this._nodeToButton(n,t[i].buttons),r))return r}},_nodeToHost:function(n,t){var i,u,r;for(t||(t=this.s.buttons),i=0,u=t.length;i<u;i++){if(t[i].node===n)return t;if(t[i].buttons.length&&(r=this._nodeToHost(n,t[i].buttons),r))return r}},_keypress:function(t,i){if(!i._buttonsHandled){var u=function(r,u){if(r.key)if(r.key===t)i._buttonsHandled=!0,n(u).click();else if(n.isPlainObject(r.key)){if(r.key.key!==t)return;if(r.key.shiftKey&&!i.shiftKey)return;if(r.key.altKey&&!i.altKey)return;if(r.key.ctrlKey&&!i.ctrlKey)return;if(r.key.metaKey&&!i.metaKey)return;i._buttonsHandled=!0;n(u).click()}},r=function(n){for(var t=0,i=n.length;t<i;t++)u(n[t].conf,n[t].node),n[t].buttons.length&&r(n[t].buttons)};r(this.s.buttons)}},_removeKey:function(t){if(t.key){var r=n.isPlainObject(t.key)?t.key.key:t.key,i=this.s.listenKeys.split(""),u=n.inArray(r,i);i.splice(u,1);this.s.listenKeys=i.join("")}},_resolveExtends:function(t){var l=this,a=this.s.dt,i,f,c=function(i){for(var u=0;!n.isPlainObject(i)&&!Array.isArray(i);){if(i===r)return;if(typeof i=="function"){if(i=i.call(l,a,t),!i)return!1}else if(typeof i=="string"){if(!e[i])return{html:i};i=e[i]}if(u++,u>30)throw"Buttons: Too many iterations";}return Array.isArray(i)?i:n.extend({},i)},u,o,s,h;for(t=c(t);t&&t.extend;){if(!e[t.extend])throw"Cannot extend unknown button type: "+t.extend;if(u=c(e[t.extend]),Array.isArray(u))return u;if(!u)return!1;if(o=u.className,t.config!==r&&u.config!==r&&(t.config=n.extend({},u.config,t.config)),t=n.extend({},u,t),o&&t.className!==o&&(t.className=o+" "+t.className),s=t.postfixButtons,s){for(t.buttons||(t.buttons=[]),i=0,f=s.length;i<f;i++)t.buttons.push(s[i]);t.postfixButtons=null}if(h=t.prefixButtons,h){for(t.buttons||(t.buttons=[]),i=0,f=h.length;i<f;i++)t.buttons.splice(i,0,h[i]);t.prefixButtons=null}t.extend=u.extend}return t},_popover:function(r,u,e){var b=u,et=this.c,ut=!1,o=n.extend({align:"button-left",autoClose:!1,background:!0,backgroundClassName:"dt-button-background",closeButton:!0,contentClassName:et.dom.collection.className,collectionLayout:"",collectionTitle:"",dropup:!1,fade:400,popoverTitle:"",rightAlignClassName:"dt-button-right",tag:et.dom.collection.tag},e),a=u.node(),k=function(){ut=!0;h(n(".dt-button-collection"),o.fade,function(){n(this).detach()});n(b.buttons('[aria-haspopup="dialog"][aria-expanded="true"]').nodes()).attr("aria-expanded","false");n("div.dt-button-background").off("click.dtb-collection");f.background(!1,o.backgroundClassName,o.fade,a);n(t).off("resize.resize.dtb-collection");n("body").off(".dtb-collection");b.off("buttons-action.b-internal");b.off("destroy")},ft,tt,d,l,ot,w,v,c,g;if(r===!1){k();return}if(ft=n(b.buttons('[aria-haspopup="dialog"][aria-expanded="true"]').nodes()),ft.length&&(a.closest("div.dt-button-collection").length&&(a=ft.eq(0)),k()),tt=n(".dt-button",r).length,d="",tt===3?d="dtb-b3":tt===2?d="dtb-b2":tt===1&&(d="dtb-b1"),l=n("<div/>").addClass("dt-button-collection").addClass(o.collectionLayout).addClass(o.splitAlignClass).addClass(d).css("display","none").attr({"aria-modal":!0,role:"dialog"}),r=n(r).addClass(o.contentClassName).attr("role","menu").appendTo(l),a.attr("aria-expanded","true"),a.parents("body")[0]!==i.body&&(a=i.body.lastChild),o.popoverTitle?l.prepend('<div class="dt-button-collection-title">'+o.popoverTitle+"<\/div>"):o.collectionTitle&&l.prepend('<div class="dt-button-collection-title">'+o.collectionTitle+"<\/div>"),o.closeButton&&l.prepend('<div class="dtb-popover-close">x<\/div>').addClass("dtb-collection-closeable"),s(l.insertAfter(a),o.fade),ot=n(u.table().container()),g=l.css("position"),(o.span==="container"||o.align==="dt-container")&&(a=a.parent(),l.css("width",ot.width())),g==="absolute"){var nt=n(a[0].offsetParent),p=a.position(),st=a.offset(),y=nt.offset(),it=nt.position(),rt=t.getComputedStyle(nt[0]);y.height=nt.outerHeight();y.width=nt.width()+parseFloat(rt.paddingLeft);y.right=y.left+y.width;y.bottom=y.top+y.height;w=p.top+a.outerHeight();v=p.left;l.css({top:w,left:v});rt=t.getComputedStyle(l[0]);c=l.offset();c.height=l.outerHeight();c.width=l.outerWidth();c.right=c.left+c.width;c.bottom=c.top+c.height;c.marginTop=parseFloat(rt.marginTop);c.marginBottom=parseFloat(rt.marginBottom);o.dropup&&(w=p.top-c.height-c.marginTop-c.marginBottom);(o.align==="button-right"||l.hasClass(o.rightAlignClassName))&&(v=p.left-c.width+a.outerWidth());(o.align==="dt-container"||o.align==="container")&&(v<p.left&&(v=-p.left),v+c.width>y.width&&(v=y.width-c.width));it.left+v+c.width>n(t).width()&&(v=n(t).width()-c.width-it.left);st.left+v<0&&(v=-st.left);it.top+w+c.height>n(t).height()+n(t).scrollTop()&&(w=p.top-c.height-c.marginTop-c.marginBottom);it.top+w<n(t).scrollTop()&&(w=p.top+a.outerHeight());l.css({top:w,left:v})}else{g=function(){var r=n(t).height()/2,i=l.height()/2;i>r&&(i=r);l.css("marginTop",i*-1)};g();n(t).on("resize.dtb-collection",function(){g()})}o.background&&f.background(!0,o.backgroundClassName,o.fade,o.backgroundHost||a);n("div.dt-button-background").on("click.dtb-collection",function(){});o.autoClose&&setTimeout(function(){b.on("buttons-action.b-internal",function(n,t,i,r){r[0]!==a[0]&&k()})},0);n(l).trigger("buttons-popover.dt");b.on("destroy",k);setTimeout(function(){ut=!1;n("body").on("click.dtb-collection",function(t){if(!ut){var i=n.fn.addBack?"addBack":"andSelf",u=n(t.target).parent()[0];(n(t.target).parents()[i]().filter(r).length||n(u).hasClass("dt-buttons"))&&!n(t.target).hasClass("dt-button-background")||k()}}).on("keyup.dtb-collection",function(n){n.keyCode===27&&k()}).on("keydown.dtb-collection",function(t){var u=n("a, button",r),f=i.activeElement;t.keyCode===9&&(u.index(f)===-1?(u.first().focus(),t.preventDefault()):t.shiftKey?f===u[0]&&(u.last().focus(),t.preventDefault()):f===u.last()[0]&&(u.first().focus(),t.preventDefault()))})},0)}});f.background=function(t,u,f,e){f===r&&(f=400);e||(e=i.body);t?s(n("<div/>").addClass(u).css("display","none").insertAfter(e),f):h(n("div."+u),f,function(){n(this).removeClass(u).remove()})};f.instanceSelector=function(t,i){if(t===r||t===null)return n.map(i,function(n){return n.inst});var u=[],e=n.map(i,function(n){return n.name}),f=function(t){var r,s,o;if(Array.isArray(t)){for(r=0,s=t.length;r<s;r++)f(t[r]);return}typeof t=="string"?t.indexOf(",")!==-1?f(t.split(",")):(o=n.inArray(t.trim(),e),o!==-1&&u.push(i[o].inst)):typeof t=="number"?u.push(i[t].inst):typeof t=="object"&&u.push(t)};return f(t),u};f.buttonSelector=function(t,i){for(var s,u=[],o=function(n,t,i){for(var u,e,f=0,s=t.length;f<s;f++)u=t[f],u&&(e=i!==r?i+f:f+"",n.push({node:u.node,name:u.conf.name,idx:e}),u.buttons&&o(n,u.buttons,e+"-"))},f=function(t,i){var e,h,s=[],c,l,v,y,a;if(o(s,i.s.buttons),c=n.map(s,function(n){return n.node}),Array.isArray(t)||t instanceof n){for(e=0,h=t.length;e<h;e++)f(t[e],i);return}if(t===null||t===r||t==="*")for(e=0,h=s.length;e<h;e++)u.push({inst:i,node:s[e].node});else if(typeof t=="number")i.s.buttons[t]&&u.push({inst:i,node:i.s.buttons[t].node});else if(typeof t=="string")if(t.indexOf(",")!==-1)for(l=t.split(","),e=0,h=l.length;e<h;e++)f(l[e].trim(),i);else if(t.match(/^\d+(\-\d+)*$/))v=n.map(s,function(n){return n.idx}),u.push({inst:i,node:s[n.inArray(t,v)].node});else if(t.indexOf(":name")!==-1)for(y=t.replace(":name",""),e=0,h=s.length;e<h;e++)s[e].name===y&&u.push({inst:i,node:s[e].node});else n(c).filter(t).each(function(){u.push({inst:i,node:this})});else typeof t=="object"&&t.nodeName&&(a=n.inArray(t,c),a!==-1&&u.push({inst:i,node:c[a]}))},e=0,h=t.length;e<h;e++)s=t[e],f(i,s);return u};f.stripData=function(n,t){return typeof n!="string"?n:(n=n.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,""),n=n.replace(/<!\-\-.*?\-\->/g,""),(!t||t.stripHtml)&&(n=n.replace(/<[^>]*>/g,"")),(!t||t.trim)&&(n=n.replace(/^\s+|\s+$/g,"")),(!t||t.stripNewlines)&&(n=n.replace(/\n/g," ")),(!t||t.decodeEntities)&&(a.innerHTML=n,n=a.value),n)};f.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{tag:"div",className:""},button:{tag:"button",className:"dt-button",active:"active",disabled:"disabled",spacerClass:""},buttonLiner:{tag:"span",className:""},split:{tag:"div",className:"dt-button-split"},splitWrapper:{tag:"div",className:"dt-btn-split-wrapper"},splitDropdown:{tag:"button",text:"&#x25BC;",className:"dt-btn-split-drop",align:"split-right",splitAlignClass:"dt-button-split-left"},splitDropdownButton:{tag:"button",className:"dt-btn-split-drop-button dt-button"},splitCollection:{tag:"div",className:"dt-button-split-collection"}}};f.version="2.2.3";n.extend(e,{collection:{text:function(n){return n.i18n("buttons.collection","Collection")},className:"buttons-collection",closeButton:!1,init:function(n,t){t.attr("aria-expanded",!1)},action:function(t,i,r,u){u._collection.parents("body").length?this.popover(!1,u):this.popover(u._collection,u);t.type==="keypress"&&n("a, button",u._collection).eq(0).focus()},attr:{"aria-haspopup":"dialog"}},split:{text:function(n){return n.i18n("buttons.split","Split")},className:"buttons-split",closeButton:!1,init:function(n,t){return t.attr("aria-expanded",!1)},action:function(n,t,i,r){this.popover(r._collection,r)},attr:{"aria-haspopup":"dialog"}},copy:function(){if(e.copyHtml5)return"copyHtml5"},csv:function(n,t){if(e.csvHtml5&&e.csvHtml5.available(n,t))return"csvHtml5"},excel:function(n,t){if(e.excelHtml5&&e.excelHtml5.available(n,t))return"excelHtml5"},pdf:function(n,t){if(e.pdfHtml5&&e.pdfHtml5.available(n,t))return"pdfHtml5"},pageLength:function(t){var r=t.settings()[0].aLengthMenu,u=[],f=[],o=function(n){return n.i18n("buttons.pageLength",{"-1":"Show all rows",_:"Show %d rows"},n.page.len())},e,i;if(Array.isArray(r[0]))u=r[0],f=r[1];else for(e=0;e<r.length;e++)i=r[e],n.isPlainObject(i)?(u.push(i.value),f.push(i.label)):(u.push(i),f.push(i));return{extend:"collection",text:o,className:"buttons-page-length",autoClose:!0,buttons:n.map(u,function(n,t){return{text:f[t],className:"button-page-length",action:function(t,i){i.page.len(n).draw()},init:function(t,i,r){var f=this,u=function(){f.active(t.page.len()===n)};t.on("length.dt"+r.namespace,u);u()},destroy:function(n,t,i){n.off("length.dt"+i.namespace)}}}),init:function(n,t,i){var r=this;n.on("length.dt"+i.namespace,function(){r.text(i.text)})},destroy:function(n,t,i){n.off("length.dt"+i.namespace)}}},spacer:{style:"empty",spacer:!0,text:function(n){return n.i18n("buttons.spacer","")}}});u.Api.register("buttons()",function(n,t){t===r&&(t=n,n=r);this.selector.buttonGroup=n;var i=this.iterator(!0,"table",function(i){if(i._buttons)return f.buttonSelector(f.instanceSelector(n,i._buttons),t)},!0);return i._groupSelector=n,i});u.Api.register("button()",function(n,t){var i=this.buttons(n,t);return i.length>1&&i.splice(1,i.length),i});u.Api.registerPlural("buttons().active()","button().active()",function(n){return n===r?this.map(function(n){return n.inst.active(n.node)}):this.each(function(t){t.inst.active(t.node,n)})});u.Api.registerPlural("buttons().action()","button().action()",function(n){return n===r?this.map(function(n){return n.inst.action(n.node)}):this.each(function(t){t.inst.action(t.node,n)})});u.Api.registerPlural("buttons().collectionRebuild()","button().collectionRebuild()",function(n){return this.each(function(t){for(var i=0;i<n.length;i++)typeof n[i]=="object"&&(n[i].parentConf=t);t.inst.collectionRebuild(t.node,n)})});u.Api.register(["buttons().enable()","button().enable()"],function(n){return this.each(function(t){t.inst.enable(t.node,n)})});u.Api.register(["buttons().disable()","button().disable()"],function(){return this.each(function(n){n.inst.disable(n.node)})});u.Api.register("button().index()",function(){var n=null;return this.each(function(t){var i=t.inst.index(t.node);i!==null&&(n=i)}),n});u.Api.registerPlural("buttons().nodes()","button().node()",function(){var t=n();return n(this.each(function(n){t=t.add(n.inst.node(n.node))})),t});u.Api.registerPlural("buttons().processing()","button().processing()",function(n){return n===r?this.map(function(n){return n.inst.processing(n.node)}):this.each(function(t){t.inst.processing(t.node,n)})});u.Api.registerPlural("buttons().text()","button().text()",function(n){return n===r?this.map(function(n){return n.inst.text(n.node)}):this.each(function(t){t.inst.text(t.node,n)})});u.Api.registerPlural("buttons().trigger()","button().trigger()",function(){return this.each(function(n){n.inst.node(n.node).trigger("click")})});u.Api.register("button().popover()",function(n,t){return this.map(function(i){return i.inst._popover(n,this.button(this[0].node),t)})});u.Api.register("buttons().containers()",function(){var t=n(),i=this._groupSelector;return this.iterator(!0,"table",function(n){var u,r,e;if(n._buttons)for(u=f.instanceSelector(i,n._buttons),r=0,e=u.length;r<e;r++)t=t.add(u[r].container())}),t});u.Api.register("buttons().container()",function(){return this.containers().eq(0)});u.Api.register("button().add()",function(n,t,i){var u=this.context,r;return u.length&&(r=f.instanceSelector(this._groupSelector,u[0]._buttons),r.length&&r[0].add(t,n,i)),this.button(this._groupSelector,n)});u.Api.register("buttons().destroy()",function(){return this.pluck("inst").unique().each(function(n){n.destroy()}),this});u.Api.registerPlural("buttons().remove()","buttons().remove()",function(){return this.each(function(n){n.inst.remove(n.node)}),this});u.Api.register("buttons.info()",function(t,i,u){var f=this;if(t===!1)return this.off("destroy.btn-info"),h(n("#datatables_buttons_info"),400,function(){n(this).remove()}),clearTimeout(o),o=null,this;o&&clearTimeout(o);n("#datatables_buttons_info").length&&n("#datatables_buttons_info").remove();t=t?"<h2>"+t+"<\/h2>":"";s(n('<div id="datatables_buttons_info" class="dt-button-info"/>').html(t).append(n("<div/>")[typeof i=="string"?"html":"append"](i)).css("display","none").appendTo("body"));u!==r&&u!==0&&(o=setTimeout(function(){f.buttons.info(!1)},u));this.on("destroy.btn-info",function(){f.buttons.info(!1)});return this});u.Api.register("buttons.exportData()",function(n){if(this.context.length)return k(new u.Api(this.context[0]),n)});u.Api.register("buttons.exportInfo()",function(n){return n||(n={}),{filename:w(n),title:b(n),messageTop:l(this,n.message||n.messageTop,"top"),messageBottom:l(this,n.messageBottom,"bottom")}});var w=function(t){var i=t.filename==="*"&&t.title!=="*"&&t.title!==r&&t.title!==null&&t.title!==""?t.title:t.filename,u;return(typeof i=="function"&&(i=i()),i===r||i===null)?null:(i.indexOf("*")!==-1&&(i=i.replace("*",n("head > title").text()).trim()),i=i.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""),u=c(t.extension),u||(u=""),i+u)},c=function(n){return n===null||n===r?null:typeof n=="function"?n():n},b=function(t){var i=c(t.title);return i===null?null:i.indexOf("*")!==-1?i.replace("*",n("head > title").text()||"Exported data"):i},l=function(t,i,r){var f=c(i),u,e;return f===null?null:(u=n("caption",t.table().container()).eq(0),f==="*")?(e=u.css("caption-side"),e!==r)?null:u.length?u.text():"":f},a=n("<textarea/>")[0],k=function(t,i){var u=n.extend(!0,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:!0,stripNewlines:!0,decodeEntities:!0,trim:!0,format:{header:function(n){return f.stripData(n,u)},footer:function(n){return f.stripData(n,u)},body:function(n){return f.stripData(n,u)}},customizeData:null},i),v=t.columns(u.columns).indexes().map(function(n){var i=t.column(n).header();return u.format.header(i.innerHTML,n,i)}).toArray(),k=t.table().footer()?t.columns(u.columns).indexes().map(function(n){var i=t.column(n).footer();return u.format.footer(i?i.innerHTML:"",n,i)}).toArray():null,s=n.extend({},u.modifier),e,b,l,o,a;t.select&&typeof t.select.info=="function"&&s.selected===r&&t.rows(u.rows,n.extend({selected:!0},s)).any()&&n.extend(s,{selected:!0});var d=t.rows(u.rows,s).indexes().toArray(),y=t.cells(d,u.columns),p=y.render(u.orthogonal).toArray(),g=y.nodes().toArray(),h=v.length,nt=h>0?p.length/h:0,w=[],c=0;for(e=0,b=nt;e<b;e++){for(l=[h],o=0;o<h;o++)l[o]=u.format.body(p[c],e,o,g[c]),c++;w[e]=l}return a={header:v,footer:k,body:w},u.customizeData&&u.customizeData(a),a};n.fn.dataTable.Buttons=f;n.fn.DataTable.Buttons=f;n(i).on("init.dt plugin-init.dt",function(n,t){if(n.namespace==="dt"){var i=t.oInit.buttons||u.defaults.buttons;i&&!t._buttons&&new f(t,i).container()}});return u.ext.feature.push({fnInit:v,cFeature:"B"}),u.ext.features&&u.ext.features.register("buttons",v),f});