function bindControlsOnLoadInOPOPReports(){registerEventsInOPRegistration();applyDateTimePicker("txtStartDate",calendarFormatType.Date,function(){});hideModal("loader");applyDateTimePicker("txtEndDate",calendarFormatType.Date,function(){});hideModal("loader")}function bindControlsOnLoadInOutPatientReports(){registerEventsInOutPatientRegistration();$("#tblnewvisit").hide();$("#tblrevisit").hide();$("#tblbothvisit").hide();$("#chkNewVisit").prop("checked",!0);applyDateTimePicker("txtStartDateTime",calendarFormatType.Date,function(){});hideModal("loader");applyDateTimePicker("txtEndDateTime",calendarFormatType.Date,function(){});hideModal("loader")}function bindGetIPDDepartmentDetails(){var n=JSON.stringify("");callAPI(deptUrl,apiType.Post,asyncType.False,cacheType.False,n,dataNature.Json,function(n){n!=null&&$.each(n,function(t){$("#ddlIPDDepartment").append($("<option><\/option>").val(n[t].DeptName).html(n[t].DeptName))})})}function GetIPDRegistrationDetails(){var n=$("#ddlIPDDepartment").val(),t=JSON.stringify({Department:n,StartDate:$("#txtStartDate").val(),EndDate:$("#txtEndDate").val()});callAPI(IPDRegUrl,apiType.Post,asyncType.False,cacheType.False,t,dataNature.Json,function(n){n!=null&&($.fn.DataTable.isDataTable("#tbl-ipdregistration")&&$("#tbl-ipdregistration").DataTable().destroy(),$("#tbl-ipdregistration tbody").empty(),n!=null&&$.each(n,function(n,t){var i="<tr><td>"+t.IPD_No+"<\/td><td>"+formatDate(t.IPD_Date)+"<\/td><td>"+t.IPD_Year+"<\/td><td>"+t.IPD_Sub_Name+"<\/td><td>"+t.IPD_Name+"<\/td><td>"+t.IPD_Fathers_Name+"<\/td><td>"+t.IPD_Husbands_Name+"<\/td><td>"+t.IPD_Address+"<\/td><td>"+t.IPD_Gender+"<\/td><td>"+t.IPD_Age+"<\/td><td>"+t.IPD_Dept_Name+"<\/td><td>"+t.IPD_Ref_Doctor+"<\/td><\/tr>";$("#tbl-ipdregistration tbody").append(i)}),table=$("#tbl-ipdregistration").DataTable({lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],responsive:!0,order:[[0,"asc"]],dom:"Blfrtip",buttons:["copy","csv","excel","pdf","print"]}))})}function GetRegistrationPatientDetails(){var n,t,i;if($("#tblnewvisit").hide(),$("#tblrevisit").hide(),$("#tblbothvisit").hide(),$("#txtStartDateTime").val()==""||$("#txtEndDateTime").val()==""){showErrorAlert("no date selected");return}if(Date.parse($("#txtStartDateTime").val())>Date.parse($("#txtEndDateTime").val())){showErrorAlert("startdate shouldn't be greater than enddate");return}showModal("loader");n=$.map($('input[name="visit"]:checked'),function(n){return n.value});n=="NEWVISIT"&&($("#tblnewvisit").show(),t=$("#ddlIPDDepartment").val(),i=JSON.stringify({Visit:n[0],Department:t,StartDate:$("#txtStartDateTime").val(),EndDate:$("#txtEndDateTime").val()}),callAPI(newVisitUrl,apiType.Post,asyncType.False,cacheType.False,i,dataNature.Json,function(n){hideModal("loader");$.fn.DataTable.isDataTable("#tbl-newvisit")&&$("#tbl-newvisit").DataTable().destroy();$("#tbl-newvisit tbody").empty();n!=null&&($.each(n,function(n,t){var i="<tr><td>"+t.OP_NO+"<\/td><td>"+t.OP_DATE+"<\/td><td>"+t.OP_YEAR+"<\/td><td>"+t.NAME_SUR+"<\/td><td>"+t.OP_NAME+"<\/td><td>"+t.OP_Father_Name+"<\/td><td>"+t.OP_Husband+"<\/td><td>"+t.OP_Address+"<\/td><td>"+t.OP_Gender+"<\/td><td>"+t.OP_AGE+"<\/td><td>"+t.OP_DEPT_NAME+"<\/td><td>"+t.OP_REF_DOCTOR+"<\/td><\/tr>";$("#tbl-newvisit tbody").append(i)}),tablenew=$("#tbl-newvisit").DataTable({lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],responsive:!0,order:[[0,"asc"]],dom:"Blfrtip",buttons:["copy","csv","excel","pdf","print"]}),hideModal("loader"))}));n=="REVISIT"&&($("#tblrevisit").show(),t=$("#ddlIPDDepartment").val(),i=JSON.stringify({Visit:n[0],Department:t,StartDate:$("#txtStartDateTime").val(),EndDate:$("#txtEndDateTime").val()}),callAPI(reVisitUrl,apiType.Post,asyncType.False,cacheType.False,i,dataNature.Json,function(n){hideModal("loader");$.fn.DataTable.isDataTable("#tbl-revisit")&&$("#tbl-revisit").DataTable().destroy();$("#tbl-revisit tbody").empty();n!=null&&($.each(n,function(n,t){var i="<tr><td>"+t.OP_NO+"<\/td><td>"+t.OP_DATE+"<\/td><td>"+t.OP_YEAR+"<\/td><td>"+t.NAME_SUR+"<\/td><td>"+t.OP_NAME+"<\/td><td>"+t.OP_AGE+"<\/td><td>"+t.OP_DEPT_NAME+"<\/td><td>"+t.OP_REF_DOCTOR+"<\/td><\/tr>";$("#tbl-revisit tbody").append(i)}),$("#tbl-revisit").DataTable({lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],responsive:!0,order:[[0,"asc"]],dom:"Blfrtip",buttons:["copy","csv","excel","pdf","print"]}),hideModal("loader"))}));n=="BOTHVISIT"&&($("#tblbothvisit").show(),t=$("#ddlIPDDepartment").val(),i=JSON.stringify({Visit:n[0],Department:t,StartDate:$("#txtStartDateTime").val(),EndDate:$("#txtEndDateTime").val()}),callAPI(bothVisitUrl,apiType.Post,asyncType.False,cacheType.False,i,dataNature.Json,function(n){hideModal("loader");$.fn.DataTable.isDataTable("#tbl-bothvisit")&&$("#tbl-bothvisit").DataTable().destroy();$("#tbl-bothvisit tbody").empty();n!=null&&($.each(n,function(n,t){var i="<tr><td>"+t.FCh+"<\/td><td>"+t.Opr_No+"<\/td><td>"+t.Opr_Date+"<\/td><td>"+t.Opr_Name+"<\/td><td>"+t.Opr_Age+"<\/td><td>"+t.Opr_Gender+"<\/td><td>"+t.Opr_Dept_Name+"<\/td><td>"+t.Opr_Category+"<\/td><td>"+t.Opr_unit+"<\/td><td>"+t.MCh+"<\/td><td>"+t.O_FCh+"<\/td><td>"+formatDate(t.From_Date)+"<\/td><td>"+formatDate(t.To_Date)+"<\/td><\/tr>",r=$("#tbl-bothvisit tbody").append(i)}),table=$("#tbl-bothvisit").DataTable({lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],responsive:!0,order:[[0,"asc"]],dom:"Blfrtip",buttons:["copy","csv","excel","pdf","print"]}),hideModal("loader"))}))}function processOPIPReportsAction(n){let t=parseInt(n.data("action-id"));switch(t){case actionType.Save:GetIPDRegistrationDetails()}}function processOutPatientReportsAction(n){let t=parseInt(n.data("action-id"));switch(t){case actionType.Save:GetRegistrationPatientDetails()}}function registerEventsInOPRegistration(){$("#formDebitDetails .button-block button").on("click",function(n){processOPIPReportsAction($(n.currentTarget))})}function registerEventsInOutPatientRegistration(){$("#formOutPatient .button-block button").on("click",function(n){processOutPatientReportsAction($(n.currentTarget))})}var deptUrl=null,IPDRegUrl=null,newVisitUrl=null,reVisitUrl=null,bothVisitUrl=null,validUser=null;$(document).on("click",'input[type="checkbox"]',function(){$('input[type="checkbox"]').not(this).prop("checked",!1)});